# file-content-filtering-cft
Утилита фильтрации содержимого файлов.

В качестве аргументов, утилите передаются имена файлов, подлежащих фильтрации, и опции. Файлы содержат вперемешку: целые числа, строки и рациональные числа. 
В качестве разделителя используется символ переноса строки. Файлы читаются по очереди в соответствии с их перечислением в командной строке.

## Инструкция по запуску
### Требования
* Java 17 или выше

* Система сборки Maven 3.8.1

### Сборка проекта
1. Склонировать репозиторий проекта
2. Перейти в директорию проекта
3. Выполнить команду сборки: 
```bash
 mvn clean package
 ```
### Запуск программы
Собранный JAR-файл будет находиться в папке target. Запуск осуществляется командой:
```bash
 java -jar target/file-content-filtering-1.jar [опции] файл1 файл2 ... файлN
 ```
### Опции
* **-o <путь>**

    Путь для сохранения результатов (по умолчанию - текущая директория).
    
    При неверно указанном пути программа завершает свою работу.


* **-p <префикс>**

    Префикс имен выходных файлов (по умолчанию - ""). 
    Название итоговых файлов по умолчанию  integers.txt, floats.txt, strings.txt.


* **-a**

    Режим добавления в существующие файлы (по умолчанию - перезапись)


* **-s**

    Вывод краткой статистики


* **-f**

    Вывод полной статистики (если не указана ни одна из опций статистики, статистика не выводится)

### Примеры запуска
```bash
# Простая фильтрация с перезаписью файлов
 java -jar target/file-content-filtering-1.jar in1.txt in2.txt
 
 # Фильтрация с добавлением в файлы, краткой статистикой и префиксом имен
java -jar target/file-content-filtering-1.jar -s -a -p sample- in1.txt in2.txt

# Фильтрация с полной статистикой и сохранением в указанную папку
java -jar target/file-content-filtering-1.jar -f -o /some/path in1.txt in2.txt
 ```
### Статистика
* Краткая статистика - количество элементов каждого типа в полученных файлах

* Полная статистика для чисел еще выводит min, max, sum и average.

    Среднее для рациональных чисел ограничивается точностью до 10 знака после запятой.

    Среднее для целых чисел ограничивается точностью до 2 знака после запятой.

* Полная статистика для строк еще выводит длину самой короткой и самой длинной строки.

### Особенности реализации не указанные в ТЗ
* Среднее для рациональных чисел ограничивается точностью до 10 знака после запятой.
* Среднее для целых чисел ограничивается точностью до 2 знака после запятой.
* Вывод целых чисел при их длине большей 50 символов выводит только первые 50 символов после чего добавляется экспоненциальная запись числа.
> Пример: (51 символ) -> 12345678912345678912345678912345678912345678912345...E1
* Если не получается прочитать один из исходных файлов, программа переходит к следующему файлу и продолжает свою работу.
* Если не получается создать записывающий файл, программа выводит сообщение и заканчивает работу.
* Если указано несколько чередующихся опций для статистики -f и -s, то будет выбрана последняя указанная.
* Программа поддерживает не закрепленную очередность опций.
* Если будут введены неизвестные опции программа выведет сообщение об этом и продолжит работу.